#Алгоритм временных рядов (Майкрософт)
##Выбранный инструмент

SQL Server 2014

##Причины выбора инструмента

Алгоритм временных рядов Майкрософт обеспечивает алгоритмы регрессии, оптимизированные для прогноза непрерывных значений, таких как продажи продуктов, во времени. 
В отличие от других алгоритмов Майкрософт, таких как деревья решений, модель временных рядов не требует дополнительных столбцов новых сведений, чтобы прогнозировать тенденцию.
С помощью модели временных рядов можно прогнозировать тенденции на основе только исходного набора данных, использованного для создания модели.
При прогнозировании можно вводить в модель новые данные и автоматически задействовать их при анализе тенденций.

Важной характеристикой алгоритма временных рядов (Майкрософт) является его способность выполнять перекрестный прогноз.
При обучении алгоритма двумя отдельными, но связанными друг с другом рядами можно использовать итоговую модель для прогнозирования исхода одного ряда на основе поведения другого ряда.

##Данные

1. Подготовка данных

Рассматривается набор климатических данных для г. Санкт-Петербург с *октября 2012* по *март 2013*. Данные представлены в следующем виде:

| Дата | мин. темп. воздуха,°C | ср. темп. воздуха,°C | макс. темп. воздуха,°C | отклонение от нормы | Осадки |

|------|:---------------------:|:--------------------:|:----------------------:|:-------------------:|:-------|
|1     | 8,4                   |11,3                  |13,7                    |2,4                  |0,4     |

|2     | 11,5                  |13,8                  |17,7                    |5                    |0,5     |

**Таблица 1.** Октябрь, 2012

2. Предварительная обработка данных
Предварительно данные, разбитые по месяцам, необходимо объединить в одну таблицу с ключевым столбцом времени TimeID.

| TimeID  | min_t,°C | avg_t,°C | max_t,°C | aberration | Rainfall |

|---------|:--------:|:--------:|:--------:|:----------:|:---------|
|1.10.2012|8,4       |11,3      |13,7      |2,4         |0,4       |

**Таблица 2.** Климатические данные, г. Санкт-Петербург

В результате формируется модель временных рядов, которая содержит пять прогнозируемых столбцов: *min\_t*, *avg\_t*, *max\_t*, *aberration*, *rainfall*.

3. Исследование данных

После обучения модели результаты будут храниться в виде набора закономерностей, которые можно исследовать или делать на их основе прогнозы.
Чтобы исследовать модель, будем использовать «*Средство просмотра временных рядов*». Это средство располагает диаграммой, которая отображает будущие прогнозы, и 
древовидным представлением периодических структур, присутствующих в данных.

4. Создание прогноза

Будем использовать пять прогнозов для ряда, которые используются по умолчанию при просмотре модели временных рядов службы *Analysis Services*. 
В результате должны получить диаграмму, где слева от вертикальной черты представлены данные, справа – прогноз.
 
